name: manual_workflow
on:
  workflow_dispatch:
    inputs:
        environment:
            description: "Select the environment"
            required: true
            default: "dev"
            type: choice
            options:
              - dev
              - staging
              - production

jobs:
    first_job_with_manual_trigger:
        runs-on: ubuntu-latest
        steps:
            - name: Checkout repository
              uses: actions/checkout@v3

            - name: Run a one-liner script
              run: echo "This is a manually triggered workflow!"
    
    print_environment:
        if: ${{ inputs.environment == 'staging' }}
        runs-on: ubuntu-latest
        # needs: first_job_with_manual_trigger
        steps:
            - name: Print selected environment
              run: echo "The selected environment is ${{ inputs.environment }}"